{
  "name": "Auto Test Generator - Analysis Module",
  "description": "Genera automáticamente pruebas unitarias cuando se guardan archivos en el directorio /analysis/",
  "trigger": {
    "type": "file_save",
    "pattern": "analysis/**/*.py",
    "exclude": ["analysis/__pycache__/**", "analysis/**/__init__.py"]
  },
  "actions": [
    {
      "type": "agent_execution",
      "prompt": "Se ha modificado el archivo {file_path} en el módulo de análisis. Por favor:\n\n1. Analiza el código modificado para entender su funcionalidad\n2. Genera o actualiza las pruebas unitarias correspondientes en el directorio tests/\n3. Asegúrate de que las pruebas cubran:\n   - Casos de éxito típicos\n   - Casos edge (textos vacíos, muy largos, caracteres especiales)\n   - Manejo de errores y excepciones\n   - Validación de tipos de entrada y salida\n\n4. Ejecuta las pruebas para verificar que pasen correctamente\n5. Si hay fallos, corrige el código de prueba\n\nUsa pytest como framework y sigue las convenciones de naming test_*.py",
      "context": [
        "{file_path}",
        "tests/",
        "requirements.md",
        "design.md"
      ]
    }
  ],
  "enabled": true,
  "autoApprove": false
}